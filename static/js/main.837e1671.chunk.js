(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,a){e.exports=a(78)},71:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(29),o=a.n(l),i=a(35),r=a(7),c=a(15),u=a(8),h=a.n(u),d=a(12),m=a(30),p=a(31),g=a(39),w=a(32),b=a(11),f=a(38),v=a(16),E=a(33),y=a.n(E),P=(a(70),a(71),a(34)),_=a.n(P),x=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(g.a)(this,Object(w.a)(t).call(this))).fetchData=Object(d.a)(h.a.mark(function t(){var a,n,s,l,o,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("https://raw.githubusercontent.com/nsfwebook/carouseldata/master/db.json");case 2:if(!(a=t.sent).data[e.props.match.params.Id]){t.next=7;break}return n=a.data[e.props.match.params.Id],s=n.dir,l=n.title,o=n.total,i=n.downloadPath,t.next=7,e.setState({dir:s,title:l,total:o,downloadPath:i});case 7:case"end":return t.stop()}},t)})),e.componentDidMount=Object(d.a)(h.a.mark(function t(){return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchData();case 2:e._getStaticImages();case 3:case"end":return t.stop()}},t)})),e._onImageClick=function(t){console.debug("clicked on image",t.target,"at index",e._imageGallery.getCurrentIndex())},e._onImageLoad=function(e){console.debug("loaded image",e.target.src)},e._onSlide=function(t){e._resetVideo(),console.debug("slid to index",t)},e._onPause=function(e){console.debug("paused on index",e)},e._onScreenChange=function(e){console.debug("isFullScreen?",!!e)},e._onPlay=function(e){console.debug("playing from index",e)},e._handleInputChange=function(t,a){e.setState(Object(c.a)({},t,a.target.value))},e._handleCheckboxChange=function(t,a){e.setState(Object(c.a)({},t,a.target.checked))},e._handleThumbnailPositionChange=function(t){e.setState({thumbnailPosition:t.target.value})},e._getStaticImages=Object(d.a)(h.a.mark(function t(){var a,n,s;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(a=e.state.images,n="https://raw.githubusercontent.com/nsfwebook/".concat(e.state.dir,"/master/"),s=1;s<=e.state.total;s++)a.push({original:"".concat(n).concat(s,".jpg"),thumbnail:"".concat(n).concat(s,".jpg")});return t.next=5,e.setState({images:a});case 5:case"end":return t.stop()}},t)})),e._resetVideo=function(){e.setState({showVideo:{}}),e.state.showPlayButton&&e.setState({showGalleryPlayButton:!0}),e.state.showFullscreenButton&&e.setState({showGalleryFullscreenButton:!0})},e._toggleShowVideo=function(t){e.state.showVideo[t]=!Boolean(e.state.showVideo[t]),e.setState({showVideo:e.state.showVideo}),e.state.showVideo[t]&&(e.state.showPlayButton&&e.setState({showGalleryPlayButton:!1}),e.state.showFullscreenButton&&e.setState({showGalleryFullscreenButton:!1}))},e._renderVideo=function(t){return s.a.createElement("div",{className:"image-gallery-image"},e.state.showVideo[t.embedUrl]?s.a.createElement("div",{className:"video-wrapper"},s.a.createElement("a",{className:"close-video",onClick:e._toggleShowVideo.bind(Object(b.a)(e),t.embedUrl)}),s.a.createElement("iframe",{width:"560",height:"315",src:t.embedUrl,frameBorder:"0",allowFullScreen:!0})):s.a.createElement("a",{onClick:e._toggleShowVideo.bind(Object(b.a)(e),t.embedUrl)},s.a.createElement("div",{className:"play-button"},"\xa0"),s.a.createElement("img",{src:t.original,alt:t.original}),t.description&&s.a.createElement("span",{className:"image-gallery-description",style:{right:"0",left:"initial"}},t.description)))},e.state={showIndex:!0,showBullets:!1,infinite:!0,showThumbnails:!0,showFullscreenButton:!1,showGalleryFullscreenButton:!1,showPlayButton:!0,showGalleryPlayButton:!0,showNav:!0,isRTL:!1,slideDuration:450,slideInterval:2e3,slideOnThumbnailOver:!1,thumbnailPosition:"bottom",showVideo:{},total:0,dir:"",title:"",downloadPath:"",images:[]},e}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.slideInterval===t.slideInterval&&this.state.slideDuration===t.slideDuration||(this._imageGallery.pause(),this._imageGallery.play())}},{key:"render",value:function(){var e=this;return this.state.total>0?s.a.createElement("section",{className:"app"},s.a.createElement(v.Helmet,null,s.a.createElement("title",null,this.state.title)),s.a.createElement(_.a,{ref:function(t){return e._imageGallery=t},items:this.state.images,lazyLoad:!1,onClick:this._onImageClick.bind(this),onImageLoad:this._onImageLoad,onSlide:this._onSlide.bind(this),onPause:this._onPause.bind(this),onScreenChange:this._onScreenChange.bind(this),onPlay:this._onPlay.bind(this),infinite:this.state.infinite,showBullets:this.state.showBullets,showFullscreenButton:this.state.showFullscreenButton&&this.state.showGalleryFullscreenButton,showPlayButton:this.state.showPlayButton&&this.state.showGalleryPlayButton,showThumbnails:this.state.showThumbnails,showIndex:this.state.showIndex,showNav:this.state.showNav,isRTL:this.state.isRTL,thumbnailPosition:this.state.thumbnailPosition,slideDuration:parseInt(this.state.slideDuration),slideInterval:parseInt(this.state.slideInterval),slideOnThumbnailOver:this.state.slideOnThumbnailOver,additionalClass:"app-image-gallery"}),s.a.createElement("div",{className:"app-sandbox"},s.a.createElement("div",{className:"app-sandbox-content"},s.a.createElement("h2",{className:"app-header"},this.state.title),s.a.createElement("ul",{className:"app-buttons"},s.a.createElement("li",null,s.a.createElement("div",{className:"app-interval-input-group"},s.a.createElement("span",{className:"app-interval-label"},"\u7e2e\u5716\u4f4d\u7f6e"),s.a.createElement("select",{className:"app-interval-input",value:this.state.thumbnailPosition,onChange:this._handleThumbnailPositionChange.bind(this)},s.a.createElement("option",{value:"bottom"},"\u4e0b"),s.a.createElement("option",{value:"top"},"\u4e0a"),s.a.createElement("option",{value:"left"},"\u5de6"),s.a.createElement("option",{value:"right"},"\u53f3")))),s.a.createElement("li",null,s.a.createElement("div",{className:"app-interval-input-group",onClick:function(){return window.open(e.state.downloadPath)}},s.a.createElement("span",{className:"app-interval-btn"},"\u4e0b\u8f09"))))))):s.a.createElement("div",{className:"app-sandbox"},s.a.createElement(v.Helmet,null,s.a.createElement("title",null,"Page Not Found")),s.a.createElement("h2",{className:"app-header"},"Error Code: 404"),s.a.createElement("h3",null,"Please make sure the path is correct"))}}]),t}(s.a.Component),S=function(){return s.a.createElement("div",{style:{margin:"0 auto",width:"50%",transition:"all 1s ease"}},s.a.createElement("h2",{style:{letterSpacing:"1px",textTransform:"uppercase"}},"Code: 000"),s.a.createElement("h3",null,"Nothing Here"))},B=function(){return s.a.createElement(i.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(r.c,null,s.a.createElement(r.a,{path:"/",render:S,exact:!0}),s.a.createElement(r.a,{path:"/:Id",component:x,exact:!0}),s.a.createElement(r.a,{render:S}))))};o.a.render(s.a.createElement(B,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.837e1671.chunk.js.map